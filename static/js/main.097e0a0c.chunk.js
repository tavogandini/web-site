(this["webpackJsonpwater-app"]=this["webpackJsonpwater-app"]||[]).push([[0],{256:function(e){e.exports=JSON.parse('{"a":"../"}')},695:function(e,t,n){},697:function(e,t,n){},698:function(e,t,n){},699:function(e,t,n){},714:function(e,t,n){},718:function(e,t,n){},719:function(e,t,n){},720:function(e,t,n){},721:function(e,t,n){},722:function(e,t,n){},723:function(e,t,n){},724:function(e,t,n){},725:function(e,t,n){},726:function(e,t,n){},727:function(e,t,n){},728:function(e,t,n){},729:function(e,t,n){},732:function(e,t,n){"use strict";n.r(t);n(495),n(514);var a=n(10),c=n.n(a),r=n(475),i=n.n(r),o=(n(695),n(696),n(697),n(698),n(148)),s=(n(699),n(476)),l=n.n(s),d=n(144),u=n(39),j=n(15),b=Object(a.createContext)({}),p=function(){return Object(a.useContext)(b)};function m(e){var t=Object(a.useState)({currentPath:""}),n=Object(u.a)(t,2),c=n[0],r=n[1];return Object(j.jsx)(b.Provider,Object(d.a)({value:{navigationData:c,setNavigationData:r}},e))}function O(e,t){var n=function(n){var c=p().setNavigationData;return Object(a.useEffect)((function(){c({currentPath:t})}),[t,c]),Object(j.jsx)(e,Object(d.a)({},n))};return Object(j.jsx)(n,{})}var f=n(42),h=n(62),x={email:"chicho@gmail.com",avatarUrl:""};function v(e,t){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(Object(f.a)().mark((function e(t,n){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,n),e.abrupt("return",{isOk:!0,data:x});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{isOk:!1,message:"Authentication failed"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(Object(f.a)().mark((function e(){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",{isOk:!0,data:x});case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{isOk:!1});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function C(e,t){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(Object(f.a)().mark((function e(t,n){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,n),e.abrupt("return",{isOk:!0});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{isOk:!1,message:"Failed to create account"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(e,t){return A.apply(this,arguments)}function A(){return(A=Object(h.a)(Object(f.a)().mark((function e(t,n){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,n),e.abrupt("return",{isOk:!0});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{isOk:!1,message:"Failed to change password"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function R(e){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.abrupt("return",{isOk:!0});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{isOk:!1,message:"Failed to reset password"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function E(e){var t=Object(a.useState)(),n=Object(u.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),o=Object(u.a)(i,2),s=o[0],l=o[1];Object(a.useEffect)((function(){Object(h.a)(Object(f.a)().mark((function e(){var t;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent).isOk&&r(t.data),l(!1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var b=Object(a.useCallback)(function(){var e=Object(h.a)(Object(f.a)().mark((function e(t,n){var a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,n);case 2:return(a=e.sent).isOk&&r(a.data),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),p=Object(a.useCallback)((function(){r(void 0)}),[]);return Object(j.jsx)(P.Provider,Object(d.a)({value:{user:c,signIn:b,signOut:p,loading:s}},e))}var P=Object(a.createContext)({loading:!1}),M=function(){return Object(a.useContext)(P)},N=function(){var e=Object(a.useState)(q()),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useCallback)((function(){c(q())}),[]);return Object(a.useEffect)((function(){return U(r),function(){D(r)}}),[r]),n},F=[],L=window.matchMedia("(max-width: 599.99px)"),T=window.matchMedia("(min-width: 600px) and (max-width: 959.99px)"),B=window.matchMedia("(min-width: 960px) and (max-width: 1279.99px)"),I=window.matchMedia("(min-width: 1280px)");[L,T,B,I].forEach((function(e){e.addListener((function(e){e.matches&&F.forEach((function(e){return e()}))}))}));var U=function(e){return F.push(e)},D=function(e){F=F.filter((function(t){return t!==e}))};function q(){return{isXSmall:L.matches,isSmall:T.matches,isMedium:B.matches,isLarge:I.matches}}var Y=n(43),J=(n(714),n(194)),X=n(739),G=n(256),Q=n(478),W=n.n(Q);function z(e){return K.apply(this,arguments)}function K(){return(K=Object(h.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.a.get(G.a+"/offline/"+t).then((function(e){return e.data.Error?ne[t]:te(e.data)})).catch((function(e){return console.log(e.response)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(h.a)(Object(f.a)().mark((function e(t,n){var a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te(n,!0),a=ee(n),e.abrupt("return",X.a.post(G.a+t+a).then((function(e){return e.data.Error?e.data.Error:e.data})).catch((function(e){return console.log(e.response)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(h.a)(Object(f.a)().mark((function e(t,n){var a,c;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,c=ee(n),e.abrupt("return",X.a.patch(G.a+t+"/"+a+c).then((function(e){return e.data.Error?ne[t]:e.data})).catch((function(e){return console.log(e.response)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(h.a)(Object(f.a)().mark((function e(t,n){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.a.delete(G.a+t+"/"+n).then((function(e){return e.data.Error?ne[t]:e.data})).catch((function(e){return console.log(e.response)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t="?";return Object.keys(e).map((function(n){var a=["tel","precios","role","precio_particular","precio_total"].includes(n.toLowerCase())&&!e[n]?0:e[n];t+="?"===t?"":"&",t+=n+"="+a})),t}function te(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(Object.keys(e).map((function(t){"fecha"===t&&(e[t]=W()(new Date).format("DD-MM-YYYY h:mm")),"usuario_id"===t&&(e[t]=1),"precio_total"===t&&(e[t]=259)})),e):(e.forEach((function(e){return Object.keys(e).forEach((function(t){try{e[t]=e[t].trim()}catch(n){}}))})),e)}var ne={stocks:[{id:1,cliente_id:1,producto_id:1,locale_id:1,estado:"Preparado",fecha:"07/07/2023",cant:25},{id:2,cliente_id:2,producto_id:2,locale_id:1,estado:"Retirado",fecha:"06/07/2023",cant:15}],ventas:[{id:4,producto_id:1,cliente_id:1,medio_pago_id:1,locale_id:1,usuario_id:1,fecha:"14-07-2023 2:37",estado_pago:"Pendiente",cant:1,precio_particular:100,precio_total:259,comentario:"debe 1"},{id:2,producto_id:1,cliente_id:2,medio_pago_id:1,locale_id:1,usuario_id:1,fecha:"14-07-2023 2:31",estado_pago:"Pendiente",cant:1,precio_particular:0,precio_total:259,comentario:"algun comentario"},{id:5,producto_id:1,cliente_id:1,medio_pago_id:1,locale_id:1,usuario_id:1,fecha:"14-07-2023 2:45",estado_pago:"Pendiente",cant:1,precio_particular:1,precio_total:259,comentario:"comenting"},{id:6,producto_id:1,cliente_id:2,medio_pago_id:2,locale_id:2,usuario_id:1,fecha:"14-07-2023 2:47",estado_pago:"Parcial",cant:12,precio_particular:180,precio_total:259,comentario:"lalala"}],productos:[{id:1,nombre:"20L Retornable",tipo:"retornable  ",precio:300},{id:2,nombre:"12L Retornable",tipo:"retornable  ",precio:250},{id:3,nombre:"Destilada 1L",tipo:"descartable ",precio:120}],clientes:[{id:1,nombre:"Particular",tel:2664123456},{id:2,nombre:"Cliente Pedro L",tel:2664123841}],medio_pagos:[{id:1,nombre:"L Efectivo"},{id:2,nombre:"Mercado Pago"},{id:3,nombre:"Debito"},{id:4,nombre:"Credito"}],locales:[{id:1,nombre:"Mirador del Cerro                                 "},{id:2,nombre:"Barrio Jardin                                     "}],usuarios:[{id:1,nombre:"Gustavo                                           ",password:"Admin1234",role:1},{id:2,nombre:"Chicho                                            ",password:"chicho1234",role:1}],movimientos_stock:[{id:1,locale_id:null,fecha:null,producto_id:null,cant:null},{id:5,locale_id:1,fecha:"14-07-2023 12:38",producto_id:1,cant:1},{id:7,locale_id:2,fecha:"14-07-2023 2:26",producto_id:1,cant:6},{id:8,locale_id:2,fecha:"14-07-2023 2:28",producto_id:1,cant:1},{id:9,locale_id:1,fecha:"14-07-2023 2:30",producto_id:1,cant:1},{id:6,locale_id:1,fecha:"14-07-2023 12:41",producto_id:1,cant:5}],stocks_locales:[{id:8,locale_id:2,producto_id:1,cant:15},{id:4,locale_id:1,producto_id:1,cant:51},{id:7,locale_id:1,producto_id:2,cant:90}],stocks_clientes:[{id:1,cliente_id:1,producto_id:1,locale_id:1,estado:"Pendiente           ",fecha:"",cant:1},{id:2,cliente_id:2,producto_id:1,locale_id:1,estado:"retirado            ",fecha:"14-07-2023 12:09",cant:5}]},ae=[{producto:"20L Retornable",MC3:153,B_Jardin:125},{producto:"12L Retornable",MC3:110,B_Jardin:90},{producto:"12L Descartable",MC3:43,B_Jardin:35}];n(718);for(var ce=n(101),re=n.n(ce),ie=n(163),oe=n(175),se=n.n(oe),le=n(479),de=n(483),ue=["Pendiente","Pagado","Parcial"],je=[],be=0;be<100;be++)je.push(be);function pe(){var e=c.a.useRef(),t=p(),n=Object(a.useState)([]),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)(),l=Object(u.a)(s,2),d=l[0],b=l[1],m=Object(a.useState)({}),O=Object(u.a)(m,2),f=O[0],h=O[1],x=Object(a.useState)(!1),v=Object(u.a)(x,2),g=v[0],w=v[1];function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(i[0]).map((function(a){var c,r=a.replace("_id","");("id"!==a||t)&&(a.includes("_id")?n[a]=(null===(c=f[r].find((function(t){return t.nombre===e[r]})))||void 0===c?void 0:c.id)||null:Object.keys(f).find((function(e){return e===a}))||(n[a]=e[r]||""))})),n}Object(a.useEffect)((function(){var e,n=null===(e=t.navigationData)||void 0===e?void 0:e.currentPath.replace("/","");n&&window.location.href.includes(n)&&b(n)}),[p()]),Object(a.useEffect)((function(){w(!0),d&&z(d).then((function(e){var t;if(null!==e&&void 0!==e&&e.length){var n={},a=null===(t=Object.keys(e[0]))||void 0===t?void 0:t.filter((function(e){return null===e||void 0===e?void 0:e.includes("_id")})),c=a.length,r=0;c?null===a||void 0===a||a.map((function(t){var a=t.replace("_id","s"),i=t.replace("_id","");z(a).then((function(a){null!==a&&void 0!==a&&a.length&&(null===a||void 0===a||a.forEach((function(e){var t;return e.nombre=null===(t=e.nombre)||void 0===t?void 0:t.trim()})),n[i]=a,e.map((function(e){var n,c,r=null===a||void 0===a||null===(n=a.find((function(n){return n.id===e[t]})))||void 0===n||null===(c=n.nombre)||void 0===c?void 0:c.trim();r&&(e[i]=r)})),++r===c&&(h(n),o(e),w(!1)))}))})):(o(e),w(!1))}}))}),[d]);var C=["precio_particular","estado_pago","comentario"],_=["estado_pago","usuario"],y=["tel","precios","role","precio_particular","precio_total","cant","stock_mc3","stock_jardin"];if(i.length)return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsxs)("div",{className:"content-block dx-card responsive-paddings",children:[g&&Object(j.jsx)(se.a,{width:"24px",height:"24px",visible:!0}),Object(j.jsx)("h6",{className:"content-block",children:d.replace("_"," ").toUpperCase()}),Object(j.jsxs)(re.a,{keyExpr:"id",ref:e,className:"dx-card wide-card",dataSource:i||[],showBorders:!0,focusedRowEnabled:!0,defaultFocusedRowIndex:0,columnAutoWidth:!0,columnHidingEnabled:!0,allowColumnReordering:!0,onExporting:function(e){var t=new le.a;console.log(t,"onExporting ::: ",e),Object(de.a)({jsPDFDocument:t,component:e.component,indent:5,landscape:!1}).then((function(){t.save(d+".pdf")}))},onRowInserting:function(e){var t=k(e.data);!function(e,t){if("stocks_locales"===d){return!!e.filter((function(e){return e.producto_id===t.producto_id&&e.locale_id===t.locale_id})).length}}(i,t)?function(e,t){return H.apply(this,arguments)}(d,t).then((function(e){var n;e?Object(ie.a)("Algo sali\xf3 mal","Error"):Object(ie.a)("Agregado con \xe9xito","Agregado"),"movimientos_stock"===d&&(n=t,z("stocks_locales").then((function(e){var t=e.find((function(e){return e.locale_id!==n.locale_id&&e.producto_id===n.producto_id})),a=e.find((function(e){return e.locale_id===n.locale_id&&e.producto_id===n.producto_id}));try{t.cant+=null===n||void 0===n?void 0:n.cant,a.cant-=null===n||void 0===n?void 0:n.cant}catch(r){Object(ie.a)("Por favor, chequear si ambos puntos de venta cuentan con ese producto agregado - Desde el men\xfa 'Stocks Puntos de venta'")}for(var c=0;c<2;c++)V("stocks_locales",0===c?a:t)})))})):Object(ie.a)("Este producto ya existe en el listdo de stocks de ese punto de venta, modifique el stock del producto desde el icono del lapiz a la derecha de la fila").then((function(){window.location.reload()}))},onRowUpdated:function(e){var t=k(e.data,!0);V(d,t).then((function(e){e?Object(ie.a)("Algo sali\xf3 mal","Error"):Object(ie.a)("Actualizado con \xe9xito","Actualizado")}))},onRowRemoving:function(e){var t=e.data.id;(function(e,t){return $.apply(this,arguments)})(d,t).then((function(e){e?Object(ie.a)("Algo sali\xf3 mal","Error"):Object(ie.a)("Eliminado con \xe9xito","Eliminado")}))},onEditorPreparing:function(e){"dataRow"===e.parentType&&(e.name.includes("_id")||["fecha","id","precio_total","estado_pago"].includes(e.name))&&e.component.columnOption(e.dataField,"formItem.visible",!1)},children:[Object(j.jsx)(ce.Paging,{defaultPageSize:10}),Object(j.jsx)(ce.Pager,{showPageSizeSelector:!0,showInfo:!0}),Object(j.jsx)(ce.HeaderFilter,{visible:!0}),Object(j.jsx)(ce.Editing,{mode:"form",allowUpdating:true,allowAdding:!0,allowDeleting:true}),Object(j.jsx)(ce.Grouping,{allowGrouping:!0,contextMenuEnabled:!0}),Object(j.jsx)(ce.GroupPanel,{visible:!0}),Object(j.jsx)(ce.FilterRow,{visible:!0}),Object(j.jsx)(ce.Export,{enabled:!0}),Object(j.jsx)(ce.ColumnChooser,{enabled:!0}),Object(j.jsx)(ce.Selection,{mode:"single"}),Object(j.jsx)(ce.Export,{enabled:!0,formats:["pdf"],allowExportSelectedData:!0}),Object.keys(f||{}).map((function(e){if(f[e].length&&!_.includes(e))return Object(j.jsxs)(ce.Column,{dataField:e,caption:"movimientos_stock"===d&&"locale"===e?"P. de venta Origen":e.replace("_"," "),groupIndex:"stocks_locales"===d&&"locale"===e?0:-1,children:[Object(j.jsx)(ce.Lookup,{dataSource:f[e],valueExpr:"nombre",displayExpr:"nombre",allowClearing:!0}),Object(j.jsx)(ce.RequiredRule,{message:"campo requerido"})]})})),i.length&&Object.keys(i[0]).map((function(e,t){return!Object.keys(f).find((function(t){return t===e}))&&Object(j.jsxs)(ce.Column,{dataField:e,caption:"cant"===e?"Cantidad":e,dataType:y.includes(e)?"number":"string",visible:!e.includes("id")&&!C.includes(e),allowEditing:!e.includes("precio_total"),allowExporting:!e.includes("id"),showInColumnChooser:!e.includes("id"),sortOrder:"fecha"===e?"desc":-1,children:["cant"===e&&Object(j.jsx)(ce.Lookup,{dataSource:je}),"precio_particular"!==e&&"comentario"!==e&&Object(j.jsx)(ce.RequiredRule,{message:"Campo requerido"})]},e+"_"+t)})),["ventas"].includes(d)&&Object(j.jsxs)(ce.Column,{dataField:"estado_pago",children:[Object(j.jsx)(ce.Lookup,{dataSource:ue}),Object(j.jsx)(ce.RequiredRule,{message:"Campo requerido"})]})]})]})})}n(719);var me=n(55),Oe=n.n(me);var fe={xs:1,sm:2,md:3,lg:4},he=[{name:"ventas",icon:"bulletlist",isAdmin:!1},{name:"stocks_clientes",subMenuOf:"Stocks",icon:"none",isAdmin:!1},{name:"stocks_locales",subMenuOf:"Stocks",icon:"none",isAdmin:!1},{name:"movimientos_stock",subMenuOf:"Stocks",icon:"none",isAdmin:!1},{name:"productos",icon:"product",isAdmin:!0},{name:"clientes",icon:"tags",isAdmin:!1},{name:"medio_pagos",icon:"bulletlist",title:"Medios de pago",isAdmin:!1},{name:"locales",icon:"edit",title:"Puntos de venta",isAdmin:!0},{name:"usuarios",icon:"folder",isAdmin:!0}],xe=[{path:"/home",element:function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){z("stocks_locales").then((function(e){var t;if(null!==e&&void 0!==e&&e.length){var n=null===(t=Object.keys(e[0]))||void 0===t?void 0:t.filter((function(e){return null===e||void 0===e?void 0:e.includes("_id")})),a=n.length,c=0;a?null===n||void 0===n||n.map((function(t){var n=t.replace("_id","s"),i=t.replace("_id","");z(n).then((function(n){null!==n&&void 0!==n&&n.length&&(null===n||void 0===n||n.forEach((function(e){var t;return e.nombre=null===(t=e.nombre)||void 0===t?void 0:t.trim()})),e.map((function(e){var a,c,r=null===n||void 0===n||null===(a=n.find((function(n){return n.id===e[t]})))||void 0===a||null===(c=a.nombre)||void 0===c?void 0:c.trim();r&&(e[i]=r)})),++c===a&&(console.log("1 DS ",e),r(e)))}))})):r(e)}}))}),[]),console.log(" DS ",n),Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)("h2",{className:"content-block",children:"Datos generales"}),Object(j.jsx)("div",{className:"content-block",children:Object(j.jsx)("div",{className:"dx-card responsive-paddings",children:Object(j.jsxs)(J.Chart,{id:"chart",dataSource:ae,onPointClick:function(e){return e.target.select()},children:[Object(j.jsx)(J.CommonSeriesSettings,{argumentField:"producto",type:"bar",hoverMode:"allArgumentPoints",selectionMode:"allArgumentPoints",children:Object(j.jsx)(J.Label,{visible:!0,children:Object(j.jsx)(J.Format,{type:"fixedPoint",precision:0})})}),Object(j.jsx)(J.Series,{valueField:"MC3",name:"Mirador 3"}),Object(j.jsx)(J.Series,{valueField:"B_Jardin",name:"Barrio Jardin"}),Object(j.jsx)(J.Legend,{verticalAlignment:"bottom",horizontalAlignment:"center"}),Object(j.jsx)(J.Export,{enabled:!0})]})})})]})},isAdmin:!1},{path:"/profile",element:function(){var e=Object(a.useState)("...."),t=Object(u.a)(e,2),n=t[0],r=t[1],i={ID:7,FirstName:"Nombre Cliente 1",LastName:"Johnson",Position:"Controller",Notes:n,Telefono:2664546134};return Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsx)("h2",{className:"content-block",children:"Clientes"}),Object(j.jsx)("div",{className:"content-block dx-card responsive-paddings",children:Object(j.jsx)(Oe.a,{id:"form",defaultFormData:i,onFieldDataChanged:function(e){return"Notes"===e.dataField&&r(e.value)},labelLocation:"top",colCountByScreen:fe})})]})},isAdmin:!0}];he.map((function(e){xe.push({path:"/"+e.name,element:pe})}));var ve=xe.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{element:O(e.element,e.path)})})),ge=n(339),we=n.n(ge),ke=n(248),Ce=n.n(ke),_e=n(193),ye=n.n(_e),Ae=n(287),Re=n.n(Ae),Se=n(388),Ee=n.n(Se),Pe=n(480),Me=n.n(Pe);n(720);function Ne(e){var t=e.menuMode,n=M(),c=n.user,r=n.signOut,i=Object(Y.o)();function o(){i("/profile")}var s=Object(a.useMemo)((function(){return[{text:"Profile",icon:"user",onClick:o},{text:"Logout",icon:"runner",onClick:r}]}),[r]);return Object(j.jsxs)("div",{className:"user-panel",children:[Object(j.jsxs)("div",{className:"user-info",children:[Object(j.jsx)("div",{className:"image-container"}),Object(j.jsx)("div",{className:"user-name",children:c.email})]}),"context"===t&&Object(j.jsx)(Ee.a,{items:s,target:".user-button",showEvent:"dxclick",width:210,cssClass:"user-menu",children:Object(j.jsx)(Se.Position,{my:"top center",at:"bottom center"})}),"list"===t&&Object(j.jsx)(Me.a,{className:"dx-toolbar-menu-action",items:s})]})}n(721);var Fe=n(220),Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABOCAMAAAD1sh+SAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAAA4roA1vojc4E/v/9A2ToA2Ho6PXN0OuYmNMcBIrnjc4DA1voA1vntd9cA4rojc4Djc4Djc4DX6hP8jxrSQAAABR0Uk5TAP7+/P9Ewf///w89gxL/k2u/EURwk9lyAAAE3ElEQVR4nO2a6XLjIAyAk3Uw2AZfff93XQnEYa4G253tzkR/yqFUXyUhRHYfj4985CMf+ciPyj6tKLudmem00wYMvMruNlGVZsHSjbJ2WrZdQ20dyWaHsOFUJtpcUXd1uijTvVS744DxwZAz6FQcCKBOke52cNc4XsQCTwjO+dx1O1INM85gPsAYhsJg4SKY7rrZ6K6oS6paPcJiy0WurRv46/VC80Cox1r4oCfwQ2PBinYK7gPgCrrzy0uMtTyvce3067kOkafClQyWURj08FXFusY1GZPkCxxyMUN00FQOiyA6+7FCEAHrEtdq4kKmuHYbmRcZLMMirN/mUsoj1gUuyFwk4N6UMFYGlBSLa11usQZPdSwQGus8F2BBavHZmxLeASkW/gmzwTHeGvLOGvvnJa5VW+SDNyWsq3LeQnxcnW08uasmB67xScLOcUH10bliTBEWnUeeYgncF8QeHERTyjJYT3aGilJrJlPfYRlHaZd1x7oFC6G7FofVn3HXRHHRJjwWVu8clkmrwR1BKvN0OFfvrN5hnUovUx6EM+hTXuSwhPHT8WCYcMJ6gPUMpD2MLoYUnjzWOlks2hb63G7+rhb6j9rc711CrPYw7ocE4QUsexXq02FlCN0VYR2cdSKM7uaxplyJ1ER6U2fRrKmPd7MrI8N8DOK4HLGaw0g3j83bmW5tIQT3HNzMzHF1ukK3ODyX8iyianWXT62OytfBefwQYhGkuoh9FxaI8BiectdkT6C/pQdxwPK2xaEw4KdCLNi15TQJIUqTuxALAgaHajUjBBxwgL2N0J6hqd7RGhu2ZTjSG0Zwt0bV5i7Xo0/5Jj4rq31wRMtElSRWu7vo7bKt9sEAo9WUo3i6rU4j8xCB3UeVqjG74FU4TbsCGb9QcAQ/pt1sgIb6oo1Al9a8jLiIv69E1V67FJN9LMruKWk3pWR6NVUmQX9kDuE5dz1Y/ycRixXt9QgmU3UjspTuJ9ylWM4CYaUEUtWwalRtSZ+lIqzcnlQVrGJiGXc1OCsTQYuVJ2ZlrEpiNUaxYAOxCsR/CsuAVQ1hSxSVNyYPoryzpD75Stn0l4xERvN6CJ8NZ9Ga7plK9qxVFSm74kFza6ye701RjC2FjuyTLQItYX1H9X6X+gZWqs2yU3LWLSXiTixDVU2wd5PL5lZGvxXL8NQT7N3kcicR7jsr57AMz/K4Byt3H5qzdwprvAerUMmlasfSdh+PaqF/G6t8+TRiMRPDOtb779gi109gNTQRSmbBZCMWZXw9t1pe/dCA9hky9gNY7Y2zOt6/4K7fgBUAkuf6E7nVf3MzXvlC3Dc7zVjPb/qIk9+jGpFnsIyXWPXt0/bivwfLJletob8RK+23qld1LYyX/g3INjuU+h4rbgyjxqa37iqG8UrCu5ZdRu5S8UKE5dxVCmODs1T8YnfRY67PpzeE3XK9Wdw09852PowNr/18B2F8kn+s9fGTw1kbnU+yxasls4pYLC5gwUYJiznzmTA25XsJS7eCue6CJZ/1K/a7LTam7mo7hQUsehwmX+b0LP1ssGS5+iS5GmtD7fuaR3AuzbpUmc8eMrlQtForlpKJMBUah87Crscvb+W+Fwi5WAq2XLoL75ExBvsNUEbGcVkWnWPL5f88crOMKP8a4iMf+cj/LX8BsaJZMEUnewoAAAAASUVORK5CYII=";function Te(e){var t=e.menuToggleEnabled,n=e.title,a=e.toggleMenu;return Object(j.jsx)("header",{className:"header-component",children:Object(j.jsxs)(ye.a,{className:"header-toolbar",children:[Object(j.jsx)(_e.Item,{visible:t,location:"before",widget:"dxButton",cssClass:"menu-button",children:Object(j.jsx)(Re.a,{icon:"menu",stylingMode:"text",onClick:a})}),Object(j.jsx)(_e.Item,{location:"before",cssClass:"header-title",visible:!!n,children:Object(j.jsx)("img",{src:Le,style:{width:"110px",marginLeft:"-20px"}})}),Object(j.jsx)(_e.Item,{location:"after",locateInMenu:"auto",menuItemTemplate:"userPanelTemplate",children:Object(j.jsx)(Re.a,{className:"user-button authorization",width:210,height:"100%",stylingMode:"text",children:Object(j.jsx)(Ne,{menuMode:"context"})})}),Object(j.jsx)(Fe.Template,{name:"userPanelTemplate",children:Object(j.jsx)(Ne,{menuMode:"list"})})]})})}var Be=n(481);n(722);function Ie(e){var t=Object.assign({},(Object(Be.a)(e),e));return Object(j.jsx)("footer",Object(d.a)({className:"footer"},t))}var Ue=n(190);n(723);function De(){var e=Object(Y.o)(),t=M().signIn,n=Object(a.useState)(!1),c=Object(u.a)(n,2),r=c[0],i=c[1],s=Object(a.useRef)({email:"",password:""}),l=Object(a.useCallback)(function(){var e=Object(h.a)(Object(f.a)().mark((function e(n){var a,c,r,o;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=s.current,c=a.email,r=a.password,i(!0),e.next=5,t(c,r);case 5:(o=e.sent).isOk||(i(!1),Object(Ue.a)(o.message,"error",2e3));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);Object(a.useCallback)((function(){e("/create-account")}),[e]);return Object(j.jsx)("form",{className:"login-form",onSubmit:l,children:Object(j.jsxs)(Oe.a,{formData:s.current,disabled:r,children:[Object(j.jsxs)(me.Item,{dataField:"email",editorType:"dxTextBox",editorOptions:qe,children:[Object(j.jsx)(me.RequiredRule,{message:"Email es requerido"}),Object(j.jsx)(me.EmailRule,{message:"Email es invalido"}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsxs)(me.Item,{dataField:"password",editorType:"dxTextBox",editorOptions:Ye,children:[Object(j.jsx)(me.RequiredRule,{message:"Password es requerido"}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsx)(me.Item,{dataField:"rememberMe",editorType:"dxCheckBox",editorOptions:Je,children:Object(j.jsx)(me.Label,{visible:!1})}),Object(j.jsx)(me.ButtonItem,{children:Object(j.jsx)(me.ButtonOptions,{width:"100%",type:"default",useSubmitBehavior:!0,children:Object(j.jsx)("span",{className:"dx-button-text",children:r?Object(j.jsx)(se.a,{width:"24px",height:"24px",visible:!0}):"ingresar"})})}),Object(j.jsx)(me.Item,{children:Object(j.jsx)("div",{className:"link",children:Object(j.jsx)(o.b,{to:"/reset-password",children:"Olvid\xe9 el password?"})})})]})})}var qe={stylingMode:"filled",placeholder:"Email",mode:"email"},Ye={stylingMode:"filled",placeholder:"Password",mode:"password"},Je={text:"Recordarme",elementAttr:{class:"form-text"}},Xe=(n(724),"We've sent a link to reset your password. Check your inbox.");function Ge(){var e=Object(Y.o)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],i=Object(a.useRef)({email:"",password:""}),s=Object(a.useCallback)(function(){var t=Object(h.a)(Object(f.a)().mark((function t(n){var a,c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=i.current.email,r(!0),t.next=5,R(a);case 5:c=t.sent,r(!1),c.isOk?(e("/login"),Object(Ue.a)(Xe,"success",2500)):Object(Ue.a)(c.message,"error",2e3);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(j.jsx)("form",{className:"reset-password-form",onSubmit:s,children:Object(j.jsxs)(Oe.a,{formData:i.current,disabled:c,children:[Object(j.jsxs)(me.Item,{dataField:"email",editorType:"dxTextBox",editorOptions:Qe,children:[Object(j.jsx)(me.RequiredRule,{message:"Email is required"}),Object(j.jsx)(me.EmailRule,{message:"Email is invalid"}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsx)(me.ButtonItem,{children:Object(j.jsx)(me.ButtonOptions,{elementAttr:We,width:"100%",type:"default",useSubmitBehavior:!0,children:Object(j.jsx)("span",{className:"dx-button-text",children:c?Object(j.jsx)(se.a,{width:"24px",height:"24px",visible:!0}):"Reset my password"})})}),Object(j.jsx)(me.Item,{children:Object(j.jsxs)("div",{className:"login-link",children:["Return to ",Object(j.jsx)(o.b,{to:"/login",children:"Sign In"})]})})]})})}var Qe={stylingMode:"filled",placeholder:"Email",mode:"email"},We={class:"submit-button"};n(725);function ze(){var e=Object(Y.o)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],i=Object(a.useRef)({email:"",password:""}),s=Object(a.useCallback)(function(){var t=Object(h.a)(Object(f.a)().mark((function t(n){var a,c,o,s;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=i.current,c=a.email,o=a.password,r(!0),t.next=5,C(c,o);case 5:s=t.sent,r(!1),s.isOk?e("/login"):Object(Ue.a)(s.message,"error",2e3);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),l=Object(a.useCallback)((function(e){return e.value===i.current.password}),[]);return Object(j.jsx)("form",{className:"create-account-form",onSubmit:s,children:Object(j.jsxs)(Oe.a,{formData:i.current,disabled:c,children:[Object(j.jsxs)(me.Item,{dataField:"email",editorType:"dxTextBox",editorOptions:Ke,children:[Object(j.jsx)(me.RequiredRule,{message:"Email is required"}),Object(j.jsx)(me.EmailRule,{message:"Email is invalid"}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsxs)(me.Item,{dataField:"password",editorType:"dxTextBox",editorOptions:He,children:[Object(j.jsx)(me.RequiredRule,{message:"Password es requerido"}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsxs)(me.Item,{dataField:"confirmedPassword",editorType:"dxTextBox",editorOptions:Ve,children:[Object(j.jsx)(me.RequiredRule,{message:"Password es requerido"}),Object(j.jsx)(me.CustomRule,{message:"Password no coincide",validationCallback:l}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsx)(me.ButtonItem,{children:Object(j.jsx)(me.ButtonOptions,{width:"100%",type:"default",useSubmitBehavior:!0,children:Object(j.jsx)("span",{className:"dx-button-text",children:c?Object(j.jsx)(se.a,{width:"24px",height:"24px",visible:!0}):"Create a new account"})})}),Object(j.jsx)(me.Item,{children:Object(j.jsxs)("div",{className:"login-link",children:["Have an account? ",Object(j.jsx)(o.b,{to:"/login",children:"Sign In"})]})})]})})}var Ke={stylingMode:"filled",placeholder:"Email",mode:"email"},He={stylingMode:"filled",placeholder:"Password",mode:"password"},Ve={stylingMode:"filled",placeholder:"Confirm Password",mode:"password"};function Ze(){var e=Object(Y.o)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],i=Object(a.useRef)({password:""}),o=Object(Y.q)().recoveryCode,s=Object(a.useCallback)(function(){var t=Object(h.a)(Object(f.a)().mark((function t(n){var a,c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=i.current.password,r(!0),t.next=5,y(a,o);case 5:c=t.sent,r(!1),c.isOk?e("/login"):Object(Ue.a)(c.message,"error",2e3);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,o]),l=Object(a.useCallback)((function(e){return e.value===i.current.password}),[]);return Object(j.jsx)("form",{onSubmit:s,children:Object(j.jsxs)(Oe.a,{formData:i.current,disabled:c,children:[Object(j.jsxs)(me.Item,{dataField:"password",editorType:"dxTextBox",editorOptions:$e,children:[Object(j.jsx)(me.RequiredRule,{message:"Password is required"}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsxs)(me.Item,{dataField:"confirmedPassword",editorType:"dxTextBox",editorOptions:et,children:[Object(j.jsx)(me.RequiredRule,{message:"Password is required"}),Object(j.jsx)(me.CustomRule,{message:"Passwords do not match",validationCallback:l}),Object(j.jsx)(me.Label,{visible:!1})]}),Object(j.jsx)(me.ButtonItem,{children:Object(j.jsx)(me.ButtonOptions,{width:"100%",type:"default",useSubmitBehavior:!0,children:Object(j.jsx)("span",{className:"dx-button-text",children:c?Object(j.jsx)(se.a,{width:"24px",height:"24px",visible:!0}):"Continue"})})})]})})}var $e={stylingMode:"filled",placeholder:"Password",mode:"password"},et={stylingMode:"filled",placeholder:"Confirm Password",mode:"password"},tt=n(482),nt=n.n(tt),at=!0,ct=[{text:"Home",path:"/home",icon:"home"}];ct.push({text:"Stocks",icon:"folder",items:[{text:"Stock Clientes",path:"/stocks_clientes"},{text:"Stock Puntos de venta",path:"/stocks_locales",visible:at},{text:"Movimientos stocks",path:"/movimientos_stock",visible:at}]}),he.map((function(e){!e.subMenuOf&&ct.push({text:e.title||e.name.replace("_"," "),path:"/"+e.name,icon:"none"!==e.icon?e.icon:"folder",visible:!e.isAdmin||at})}));n(726);var rt=n(237);function it(e){var t=e.children,n=e.selectedItemChanged,c=e.openMenu,r=e.compactMode,i=e.onMenuReady,o=N().isLarge;var s=Object(a.useMemo)((function(){return ct.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{expanded:o,path:e.path&&!/^\//.test(e.path)?"/".concat(e.path):e.path})}))}),[]),l=p().navigationData.currentPath,u=Object(a.useRef)(null),b=Object(a.useRef)(),m=Object(a.useCallback)((function(e){var t=b.current;t&&rt.off(t,"dxclick"),b.current=e,rt.on(e,"dxclick",(function(e){c(e)}))}),[c]);return Object(a.useEffect)((function(){var e=u.current&&u.current.instance;e&&(void 0!==l&&(e.selectItem(l),e.expandItem(l)),r&&e.collapseAll())}),[l,r]),Object(j.jsxs)("div",{className:"dx-swatch-additional side-navigation-menu",ref:m,children:[t,Object(j.jsx)("div",{className:"menu-container",children:Object(j.jsx)(nt.a,{ref:u,items:s,keyExpr:"path",selectionMode:"single",focusStateEnabled:!1,expandEvent:"click",onItemClick:n,onContentReady:i,width:"100%"})})]})}n(727);function ot(){var e=N(),t=e.isSmall,n=e.isMedium,c=Object(a.useState)(t||n),r=Object(u.a)(c,2),i=r[0],o=r[1],s=Object(a.useCallback)((function(){i&&setTimeout((function(){return o(!1)}))}),[i]);return[i?"pre-init-blink-fix":"",s]}function st(e){var t=e.title,n=e.children,r=Object(a.useRef)(null),i=Object(Y.o)(),o=N(),s=o.isXSmall,l=o.isLarge,d=ot(),b=Object(u.a)(d,2),p=b[0],m=b[1],O=Object(a.useState)(l?lt.Opened:lt.Closed),f=Object(u.a)(O,2),h=f[0],x=f[1],v=Object(a.useCallback)((function(e){var t=e.event;x((function(e){return e===lt.Closed?lt.Opened:lt.Closed})),null===t||void 0===t||t.stopPropagation()}),[]),g=Object(a.useCallback)((function(){x((function(e){return e===lt.Closed?lt.TemporaryOpened:e}))}),[]),w=Object(a.useCallback)((function(){return x((function(e){return e===lt.Closed||l?e:lt.Closed})),h===lt.Closed}),[l]),k=Object(a.useCallback)((function(e){var t,n=e.itemData,a=e.event,c=e.node;h===lt.Closed||null===n||void 0===n||!n.path||null!==c&&void 0!==c&&c.selected?null===a||void 0===a||a.preventDefault():(i(n.path),null===(t=r.current)||void 0===t||t.instance.scrollTo(0),l&&h!==lt.TemporaryOpened||(x(lt.Closed),null===a||void 0===a||a.stopPropagation()))}),[i,h,l]);return Object(j.jsxs)("div",{className:"side-nav-outer-toolbar",children:[Object(j.jsx)(Te,{menuToggleEnabled:!0,toggleMenu:v,title:t}),Object(j.jsxs)(we.a,{className:["drawer",p].join(" "),position:"before",closeOnOutsideClick:w,openedStateMode:l?"shrink":"overlap",revealMode:s?"slide":"expand",minSize:s?0:60,maxSize:250,shading:!l,opened:h!==lt.Closed,template:"menu",children:[Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)(Ce.a,{ref:r,className:"layout-body with-footer",children:[Object(j.jsx)("div",{className:"content",children:c.a.Children.map(n,(function(e){return e.type!==Ie&&e}))}),Object(j.jsx)("div",{className:"content-block",children:c.a.Children.map(n,(function(e){return e.type===Ie&&e}))})]})}),Object(j.jsx)(Fe.Template,{name:"menu",children:Object(j.jsx)(it,{compactMode:h===lt.Closed,selectedItemChanged:k,openMenu:g,onMenuReady:m})})]})]})}var lt={Closed:1,Opened:2,TemporaryOpened:3};n(728);n(729);function dt(e){var t=e.title,n=e.description,a=e.children;return Object(j.jsx)(Ce.a,{height:"100%",width:"100%",className:"with-footer single-card",children:Object(j.jsxs)("div",{className:"dx-card content",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"title",children:t}),Object(j.jsx)("div",{className:"description",children:n})]}),a]})})}function ut(){var e="Aguas SOTO";return Object(j.jsxs)(st,{title:e,children:[Object(j.jsxs)(Y.d,{children:[ve.map((function(e){var t=e.path,n=e.element;return Object(j.jsx)(Y.b,{path:t,element:n},t)})),Object(j.jsx)(Y.b,{path:"*",element:Object(j.jsx)(Y.a,{to:"/home"})})]}),Object(j.jsxs)(Ie,{children:["Copyright \xa9 2014-",(new Date).getFullYear()," ",e," Inc.",Object(j.jsx)("br",{}),"Algun texto de pie"]})]})}function jt(){return Object(j.jsxs)(Y.d,{children:[Object(j.jsx)(Y.b,{path:"/login",element:Object(j.jsx)(dt,{title:"Acceder",children:Object(j.jsx)(De,{})})}),Object(j.jsx)(Y.b,{path:"/create-account",element:Object(j.jsx)(dt,{title:"Acceder",children:Object(j.jsx)(ze,{})})}),Object(j.jsx)(Y.b,{path:"/reset-password",element:Object(j.jsx)(dt,{title:"Reset Password",children:Object(j.jsx)(Ge,{})})}),Object(j.jsx)(Y.b,{path:"/change-password/:recoveryCode",element:Object(j.jsx)(dt,{title:"Camiar Password",children:Object(j.jsx)(Ze,{})})}),Object(j.jsx)(Y.b,{path:"*",element:Object(j.jsx)(Y.a,{to:"/login"})})]})}function bt(){var e=M(),t=e.user;return e.loading?Object(j.jsx)(l.a,{visible:!0}):t?(console.log("user --------\x3e ",t),Object(j.jsx)(ut,{})):Object(j.jsx)(jt,{})}function pt(){var e=function(){var e=N();return e.isLarge?"screen-large":e.isMedium?"screen-medium":e.isSmall?"screen-small":"screen-x-small"}();return Object(j.jsx)(o.a,{children:Object(j.jsx)(E,{children:Object(j.jsx)(m,{children:Object(j.jsx)("div",{className:"app ".concat(e),children:Object(j.jsx)(bt,{})})})})})}var mt=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,749)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(pt,{})})),mt()}},[[732,1,2]]]);
//# sourceMappingURL=main.097e0a0c.chunk.js.map